{"version":3,"sources":["backend.js","dropzone.js","frontend.js","id3.js","toast.js"],"names":["Dropzone","Emitter","camelize","contentLoaded","detectVerticalSquash","drawImageIOSFix","noop","without","__slice","slice","__hasProp","hasOwnProperty","prototype","addEventListener","on","event","fn","this","_callbacks","push","emit","callbacks","_i","_len","arguments","args","length","call","apply","removeListener","off","removeAllListeners","removeEventListener","i","splice","extend","resolveOption","key","child","parent","ctor","constructor","element","options","version","defaultOptions","previewTemplate","replace","clickableElements","listeners","files","document","querySelector","nodeType","Error","dropzone","instances","elementOptions","_ref","optionsForElement","forceFallback","isBrowserSupported","fallback","url","getAttribute","acceptedFiles","acceptedMimeTypes","method","toUpperCase","getExistingFallback","parentNode","removeChild","previewsContainer","getElement","clickable","getElements","init","__super__","events","withCredentials","parallelUploads","uploadMultiple","maxFilesize","paramName","createImageThumbnails","maxThumbnailFilesize","thumbnailWidth","thumbnailHeight","filesizeBase","maxFiles","params","ignoreHiddenFiles","autoProcessQueue","autoQueue","addRemoveLinks","hiddenInputContainer","capture","dictDefaultMessage","dictFallbackMessage","dictFallbackText","dictFileTooBig","dictInvalidFileType","dictResponseError","dictCancelUpload","dictCancelUploadConfirmation","dictRemoveFile","dictRemoveFileConfirmation","dictMaxFilesExceeded","accept","file","done","messageElement","span","className","getElementsByTagName","test","createElement","appendChild","textContent","innerText","getFallbackForm","resize","trgRatio","info","srcX","srcY","srcWidth","width","srcHeight","height","srcRatio","optWidth","optHeight","trgHeight","trgWidth","drop","e","classList","remove","dragstart","dragend","dragenter","add","dragover","dragleave","paste","reset","addedfile","removeFileEvent","removeLink","_j","_k","_len1","_len2","_ref1","_ref2","_results","_this","previewElement","trim","querySelectorAll","name","innerHTML","filesize","size","_removeLink","preventDefault","stopPropagation","status","UPLOADING","confirm","removeFile","removedfile","_updateMaxFilesReachedClass","thumbnail","dataUrl","thumbnailElement","alt","src","setTimeout","error","message","node","errormultiple","processing","processingmultiple","uploadprogress","progress","bytesSent","nodeName","value","style","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","maxfilesexceeded","maxfilesreached","queuecomplete","addedfiles","object","val","target","objects","getAcceptedFiles","accepted","getRejectedFiles","getFilesWithStatus","getQueuedFiles","QUEUED","getUploadingFiles","getAddedFiles","ADDED","getActiveFiles","eventName","noPropagation","setupHiddenFileInput","tagName","setAttribute","contains","hiddenFileInput","visibility","position","top","left","addFile","URL","window","webkitURL","updateTotalUploadProgress","returnValue","efct","dataTransfer","effectAllowed","_error","dropEffect","forEach","clickableElement","click","evt","elementInside","enable","destroy","disable","removeAllFiles","indexOf","totalUploadProgress","totalBytesSent","totalBytes","upload","total","_getParamName","n","fieldsString","form","existingFallback","fields","getFallback","elements","el","setupEventListeners","elementListeners","listener","_results1","removeEventListeners","cancelUpload","unit","units","selectedSize","selectedUnit","Math","pow","round","items","webkitGetAsEntry","_addFilesFromItems","handleFiles","clipboardData","entry","item","isFile","getAsFile","isDirectory","_addFilesFromDirectory","kind","directory","path","dirReader","createReader","readEntries","entries","substring","fullPath","console","log","isValidFile","_enqueueThumbnail","_errorProcessing","enqueueFile","enqueueFiles","processQueue","_thumbnailQueue","_processingThumbnail","type","match","_processThumbnailQueue","createThumbnail","shift","cancelIfNecessary","callback","fileReader","FileReader","onload","createThumbnailFromUrl","result","readAsDataURL","imageUrl","crossOrigin","img","canvas","resizeInfo","_ref3","ctx","getContext","trgX","trgY","toDataURL","onerror","queuedFiles","processingLength","processFiles","processFile","uploadFiles","_getFilesWithXhr","xhr","groupedFile","groupedFiles","CANCELED","abort","option","uploadFile","formData","handleError","headerName","headerValue","headers","input","inputName","response","updateProgress","_l","_len3","_m","_ref4","_ref5","XMLHttpRequest","open","allFilesFinished","loaded","readyState","responseText","getResponseHeader","JSON","parse","_finished","onprogress","Accept","Cache-Control","X-Requested-With","setRequestHeader","FormData","append","inputType","hasAttribute","selected","toLowerCase","checked","submitRequest","send","SUCCESS","ERROR","forElement","autoDiscover","discover","checkElements","dropzones","blacklistedBrowsers","capableBrowser","File","FileList","Blob","navigator","userAgent","list","rejectedItem","str","charAt","string","div","childNodes","container","els","Array","question","rejected","baseMimeType","mimeType","validType","split","jQuery","each","module","exports","ACCEPTED","PROCESSING","naturalWidth","data","ey","py","sy","ih","naturalHeight","drawImage","getImageData","ratio","sx","sw","sh","dx","dy","dw","dh","vertSquashRatio","win","doc","root","documentElement","rem","pre","poll","doScroll","createEventObject","frameElement","_autoDiscoverFunction","channelID","reqURL","$","getJSON","encodeURIComponent","link","id","substr","link2","id2","attr","Reader","OPEN_URI","id3","opts","cb","k","OPEN_FILE","ArrayBuffer","OPEN_LOCAL","require","Genres","ID3Frame","types","TALB","TBPM","TCOM","TCON","TCOP","TDEN","TDLY","TDOR","TDRC","TDRL","TDTG","TENC","TEXT","TFLT","TIPL","TIT1","TIT2","TIT3","TKEY","TLAN","TLEN","TMCL","TMED","TMOO","TOAL","TOFN","TOLY","TOPE","TOWN","TPE1","TPE2","TPE3","TPE4","TPOS","TPRO","TPUB","TRCK","TRSN","TRSO","TSOA","TSOP","TSOT","TSRC","TSSE","TSST","TAL","TBP","TCM","TCO","TCR","TDY","TEN","TFT","TKE","TLA","TLE","TMT","TOA","TOF","TOL","TOT","TP1","TP2","TP3","TP4","TPA","TPB","TRC","TRK","TSS","TT1","TT2","TT3","TXT","WCOM","WCOP","WOAF","WOAR","WOAS","WORS","WPAY","WPUB","WAF","WAR","WAS","WCM","WCP","WPB","COMM","APIC","PIC","imageTypes","buffer","major","minor","tag","dv","DataView","parseLegacy","header","getString","getUint32Synch","getUint8","encoding","getStringUtf16","parseInt","variableLength","variableStart","getUint16","image","mime","description","getUint24","ID3Tag","handle","process","err","processed","v1","v2","tags","title","album","artist","year","comment","track","read","byteLength","genre","headerSize","tagSize","tagFlags","frame","frameBit","isFrame","close","fs","self","stat","fd","ajax","uri","resp","readLocal","readFile","readUri","readBlob","Buffer","bytesRead","ab","view","Uint8Array","responseType","onreadystatechange","range","concat","fr","readAsArrayBuffer","offset","raw","toString","String","fromCharCode","decodeURIComponent","bom","littleEndian","useBuffer","ch","getSynch","num","out","mask","getUint8Synch","getUint32","define","amd"],"mappings":"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","file":"all.js","sourcesContent":["\n","\n/*\n *\n * More info at [www.dropzonejs.com](http://www.dropzonejs.com)\n *\n * Copyright (c) 2012, Matias Meno\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n(function() {\n  var Dropzone, Emitter, camelize, contentLoaded, detectVerticalSquash, drawImageIOSFix, noop, without,\n    __slice = [].slice,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  noop = function() {};\n\n  Emitter = (function() {\n    function Emitter() {}\n\n    Emitter.prototype.addEventListener = Emitter.prototype.on;\n\n    Emitter.prototype.on = function(event, fn) {\n      this._callbacks = this._callbacks || {};\n      if (!this._callbacks[event]) {\n        this._callbacks[event] = [];\n      }\n      this._callbacks[event].push(fn);\n      return this;\n    };\n\n    Emitter.prototype.emit = function() {\n      var args, callback, callbacks, event, _i, _len;\n      event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      this._callbacks = this._callbacks || {};\n      callbacks = this._callbacks[event];\n      if (callbacks) {\n        for (_i = 0, _len = callbacks.length; _i < _len; _i++) {\n          callback = callbacks[_i];\n          callback.apply(this, args);\n        }\n      }\n      return this;\n    };\n\n    Emitter.prototype.removeListener = Emitter.prototype.off;\n\n    Emitter.prototype.removeAllListeners = Emitter.prototype.off;\n\n    Emitter.prototype.removeEventListener = Emitter.prototype.off;\n\n    Emitter.prototype.off = function(event, fn) {\n      var callback, callbacks, i, _i, _len;\n      if (!this._callbacks || arguments.length === 0) {\n        this._callbacks = {};\n        return this;\n      }\n      callbacks = this._callbacks[event];\n      if (!callbacks) {\n        return this;\n      }\n      if (arguments.length === 1) {\n        delete this._callbacks[event];\n        return this;\n      }\n      for (i = _i = 0, _len = callbacks.length; _i < _len; i = ++_i) {\n        callback = callbacks[i];\n        if (callback === fn) {\n          callbacks.splice(i, 1);\n          break;\n        }\n      }\n      return this;\n    };\n\n    return Emitter;\n\n  })();\n\n  Dropzone = (function(_super) {\n    var extend, resolveOption;\n\n    __extends(Dropzone, _super);\n\n    Dropzone.prototype.Emitter = Emitter;\n\n\n    /*\n    This is a list of all available events you can register on a dropzone object.\n    \n    You can register an event handler like this:\n    \n        dropzone.on(\"dragEnter\", function() { });\n     */\n\n    Dropzone.prototype.events = [\"drop\", \"dragstart\", \"dragend\", \"dragenter\", \"dragover\", \"dragleave\", \"addedfile\", \"addedfiles\", \"removedfile\", \"thumbnail\", \"error\", \"errormultiple\", \"processing\", \"processingmultiple\", \"uploadprogress\", \"totaluploadprogress\", \"sending\", \"sendingmultiple\", \"success\", \"successmultiple\", \"canceled\", \"canceledmultiple\", \"complete\", \"completemultiple\", \"reset\", \"maxfilesexceeded\", \"maxfilesreached\", \"queuecomplete\"];\n\n    Dropzone.prototype.defaultOptions = {\n      url: null,\n      method: \"post\",\n      withCredentials: false,\n      parallelUploads: 2,\n      uploadMultiple: false,\n      maxFilesize: 256,\n      paramName: \"file\",\n      createImageThumbnails: true,\n      maxThumbnailFilesize: 10,\n      thumbnailWidth: 120,\n      thumbnailHeight: 120,\n      filesizeBase: 1000,\n      maxFiles: null,\n      params: {},\n      clickable: true,\n      ignoreHiddenFiles: true,\n      acceptedFiles: null,\n      acceptedMimeTypes: null,\n      autoProcessQueue: true,\n      autoQueue: true,\n      addRemoveLinks: false,\n      previewsContainer: null,\n      hiddenInputContainer: \"body\",\n      capture: null,\n      dictDefaultMessage: \"Drop files here to upload\",\n      dictFallbackMessage: \"Your browser does not support drag'n'drop file uploads.\",\n      dictFallbackText: \"Please use the fallback form below to upload your files like in the olden days.\",\n      dictFileTooBig: \"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.\",\n      dictInvalidFileType: \"You can't upload files of this type.\",\n      dictResponseError: \"Server responded with {{statusCode}} code.\",\n      dictCancelUpload: \"Cancel upload\",\n      dictCancelUploadConfirmation: \"Are you sure you want to cancel this upload?\",\n      dictRemoveFile: \"Remove file\",\n      dictRemoveFileConfirmation: null,\n      dictMaxFilesExceeded: \"You can not upload any more files.\",\n      accept: function(file, done) {\n        return done();\n      },\n      init: function() {\n        return noop;\n      },\n      forceFallback: false,\n      fallback: function() {\n        var child, messageElement, span, _i, _len, _ref;\n        this.element.className = \"\" + this.element.className + \" dz-browser-not-supported\";\n        _ref = this.element.getElementsByTagName(\"div\");\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          child = _ref[_i];\n          if (/(^| )dz-message($| )/.test(child.className)) {\n            messageElement = child;\n            child.className = \"dz-message\";\n            continue;\n          }\n        }\n        if (!messageElement) {\n          messageElement = Dropzone.createElement(\"<div class=\\\"dz-message\\\"><span></span></div>\");\n          this.element.appendChild(messageElement);\n        }\n        span = messageElement.getElementsByTagName(\"span\")[0];\n        if (span) {\n          if (span.textContent != null) {\n            span.textContent = this.options.dictFallbackMessage;\n          } else if (span.innerText != null) {\n            span.innerText = this.options.dictFallbackMessage;\n          }\n        }\n        return this.element.appendChild(this.getFallbackForm());\n      },\n      resize: function(file) {\n        var info, srcRatio, trgRatio;\n        info = {\n          srcX: 0,\n          srcY: 0,\n          srcWidth: file.width,\n          srcHeight: file.height\n        };\n        srcRatio = file.width / file.height;\n        info.optWidth = this.options.thumbnailWidth;\n        info.optHeight = this.options.thumbnailHeight;\n        if ((info.optWidth == null) && (info.optHeight == null)) {\n          info.optWidth = info.srcWidth;\n          info.optHeight = info.srcHeight;\n        } else if (info.optWidth == null) {\n          info.optWidth = srcRatio * info.optHeight;\n        } else if (info.optHeight == null) {\n          info.optHeight = (1 / srcRatio) * info.optWidth;\n        }\n        trgRatio = info.optWidth / info.optHeight;\n        if (file.height < info.optHeight || file.width < info.optWidth) {\n          info.trgHeight = info.srcHeight;\n          info.trgWidth = info.srcWidth;\n        } else {\n          if (srcRatio > trgRatio) {\n            info.srcHeight = file.height;\n            info.srcWidth = info.srcHeight * trgRatio;\n          } else {\n            info.srcWidth = file.width;\n            info.srcHeight = info.srcWidth / trgRatio;\n          }\n        }\n        info.srcX = (file.width - info.srcWidth) / 2;\n        info.srcY = (file.height - info.srcHeight) / 2;\n        return info;\n      },\n\n      /*\n      Those functions register themselves to the events on init and handle all\n      the user interface specific stuff. Overwriting them won't break the upload\n      but can break the way it's displayed.\n      You can overwrite them if you don't like the default behavior. If you just\n      want to add an additional event handler, register it on the dropzone object\n      and don't overwrite those options.\n       */\n      drop: function(e) {\n        return this.element.classList.remove(\"dz-drag-hover\");\n      },\n      dragstart: noop,\n      dragend: function(e) {\n        return this.element.classList.remove(\"dz-drag-hover\");\n      },\n      dragenter: function(e) {\n        return this.element.classList.add(\"dz-drag-hover\");\n      },\n      dragover: function(e) {\n        return this.element.classList.add(\"dz-drag-hover\");\n      },\n      dragleave: function(e) {\n        return this.element.classList.remove(\"dz-drag-hover\");\n      },\n      paste: noop,\n      reset: function() {\n        return this.element.classList.remove(\"dz-started\");\n      },\n      addedfile: function(file) {\n        var node, removeFileEvent, removeLink, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2, _results;\n        if (this.element === this.previewsContainer) {\n          this.element.classList.add(\"dz-started\");\n        }\n        if (this.previewsContainer) {\n          file.previewElement = Dropzone.createElement(this.options.previewTemplate.trim());\n          file.previewTemplate = file.previewElement;\n          this.previewsContainer.appendChild(file.previewElement);\n          _ref = file.previewElement.querySelectorAll(\"[data-dz-name]\");\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            node = _ref[_i];\n            node.textContent = file.name;\n          }\n          _ref1 = file.previewElement.querySelectorAll(\"[data-dz-size]\");\n          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n            node = _ref1[_j];\n            node.innerHTML = this.filesize(file.size);\n          }\n          if (this.options.addRemoveLinks) {\n            file._removeLink = Dropzone.createElement(\"<a class=\\\"dz-remove\\\" href=\\\"javascript:undefined;\\\" data-dz-remove>\" + this.options.dictRemoveFile + \"</a>\");\n            file.previewElement.appendChild(file._removeLink);\n          }\n          removeFileEvent = (function(_this) {\n            return function(e) {\n              e.preventDefault();\n              e.stopPropagation();\n              if (file.status === Dropzone.UPLOADING) {\n                return Dropzone.confirm(_this.options.dictCancelUploadConfirmation, function() {\n                  return _this.removeFile(file);\n                });\n              } else {\n                if (_this.options.dictRemoveFileConfirmation) {\n                  return Dropzone.confirm(_this.options.dictRemoveFileConfirmation, function() {\n                    return _this.removeFile(file);\n                  });\n                } else {\n                  return _this.removeFile(file);\n                }\n              }\n            };\n          })(this);\n          _ref2 = file.previewElement.querySelectorAll(\"[data-dz-remove]\");\n          _results = [];\n          for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\n            removeLink = _ref2[_k];\n            _results.push(removeLink.addEventListener(\"click\", removeFileEvent));\n          }\n          return _results;\n        }\n      },\n      removedfile: function(file) {\n        var _ref;\n        if (file.previewElement) {\n          if ((_ref = file.previewElement) != null) {\n            _ref.parentNode.removeChild(file.previewElement);\n          }\n        }\n        return this._updateMaxFilesReachedClass();\n      },\n      thumbnail: function(file, dataUrl) {\n        var thumbnailElement, _i, _len, _ref;\n        if (file.previewElement) {\n          file.previewElement.classList.remove(\"dz-file-preview\");\n          _ref = file.previewElement.querySelectorAll(\"[data-dz-thumbnail]\");\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            thumbnailElement = _ref[_i];\n            thumbnailElement.alt = file.name;\n            thumbnailElement.src = dataUrl;\n          }\n          return setTimeout(((function(_this) {\n            return function() {\n              return file.previewElement.classList.add(\"dz-image-preview\");\n            };\n          })(this)), 1);\n        }\n      },\n      error: function(file, message) {\n        var node, _i, _len, _ref, _results;\n        if (file.previewElement) {\n          file.previewElement.classList.add(\"dz-error\");\n          if (typeof message !== \"String\" && message.error) {\n            message = message.error;\n          }\n          _ref = file.previewElement.querySelectorAll(\"[data-dz-errormessage]\");\n          _results = [];\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            node = _ref[_i];\n            _results.push(node.textContent = message);\n          }\n          return _results;\n        }\n      },\n      errormultiple: noop,\n      processing: function(file) {\n        if (file.previewElement) {\n          file.previewElement.classList.add(\"dz-processing\");\n          if (file._removeLink) {\n            return file._removeLink.textContent = this.options.dictCancelUpload;\n          }\n        }\n      },\n      processingmultiple: noop,\n      uploadprogress: function(file, progress, bytesSent) {\n        var node, _i, _len, _ref, _results;\n        if (file.previewElement) {\n          _ref = file.previewElement.querySelectorAll(\"[data-dz-uploadprogress]\");\n          _results = [];\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            node = _ref[_i];\n            if (node.nodeName === 'PROGRESS') {\n              _results.push(node.value = progress);\n            } else {\n              _results.push(node.style.width = \"\" + progress + \"%\");\n            }\n          }\n          return _results;\n        }\n      },\n      totaluploadprogress: noop,\n      sending: noop,\n      sendingmultiple: noop,\n      success: function(file) {\n        if (file.previewElement) {\n          return file.previewElement.classList.add(\"dz-success\");\n        }\n      },\n      successmultiple: noop,\n      canceled: function(file) {\n        return this.emit(\"error\", file, \"Upload canceled.\");\n      },\n      canceledmultiple: noop,\n      complete: function(file) {\n        if (file._removeLink) {\n          file._removeLink.textContent = this.options.dictRemoveFile;\n        }\n        if (file.previewElement) {\n          return file.previewElement.classList.add(\"dz-complete\");\n        }\n      },\n      completemultiple: noop,\n      maxfilesexceeded: noop,\n      maxfilesreached: noop,\n      queuecomplete: noop,\n      addedfiles: noop,\n      previewTemplate: \"<div class=\\\"dz-preview dz-file-preview\\\">\\n  <div class=\\\"dz-image\\\"><img data-dz-thumbnail /></div>\\n  <div class=\\\"dz-details\\\">\\n    <div class=\\\"dz-size\\\"><span data-dz-size></span></div>\\n    <div class=\\\"dz-filename\\\"><span data-dz-name></span></div>\\n  </div>\\n  <div class=\\\"dz-progress\\\"><span class=\\\"dz-upload\\\" data-dz-uploadprogress></span></div>\\n  <div class=\\\"dz-error-message\\\"><span data-dz-errormessage></span></div>\\n  <div class=\\\"dz-success-mark\\\">\\n    <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n      <title>Check</title>\\n      <defs></defs>\\n      <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n        <path d=\\\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\" id=\\\"Oval-2\\\" stroke-opacity=\\\"0.198794158\\\" stroke=\\\"#747474\\\" fill-opacity=\\\"0.816519475\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n      </g>\\n    </svg>\\n  </div>\\n  <div class=\\\"dz-error-mark\\\">\\n    <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n      <title>Error</title>\\n      <defs></defs>\\n      <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n        <g id=\\\"Check-+-Oval-2\\\" sketch:type=\\\"MSLayerGroup\\\" stroke=\\\"#747474\\\" stroke-opacity=\\\"0.198794158\\\" fill=\\\"#FFFFFF\\\" fill-opacity=\\\"0.816519475\\\">\\n          <path d=\\\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\" id=\\\"Oval-2\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n        </g>\\n      </g>\\n    </svg>\\n  </div>\\n</div>\"\n    };\n\n    extend = function() {\n      var key, object, objects, target, val, _i, _len;\n      target = arguments[0], objects = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      for (_i = 0, _len = objects.length; _i < _len; _i++) {\n        object = objects[_i];\n        for (key in object) {\n          val = object[key];\n          target[key] = val;\n        }\n      }\n      return target;\n    };\n\n    function Dropzone(element, options) {\n      var elementOptions, fallback, _ref;\n      this.element = element;\n      this.version = Dropzone.version;\n      this.defaultOptions.previewTemplate = this.defaultOptions.previewTemplate.replace(/\\n*/g, \"\");\n      this.clickableElements = [];\n      this.listeners = [];\n      this.files = [];\n      if (typeof this.element === \"string\") {\n        this.element = document.querySelector(this.element);\n      }\n      if (!(this.element && (this.element.nodeType != null))) {\n        throw new Error(\"Invalid dropzone element.\");\n      }\n      if (this.element.dropzone) {\n        throw new Error(\"Dropzone already attached.\");\n      }\n      Dropzone.instances.push(this);\n      this.element.dropzone = this;\n      elementOptions = (_ref = Dropzone.optionsForElement(this.element)) != null ? _ref : {};\n      this.options = extend({}, this.defaultOptions, elementOptions, options != null ? options : {});\n      if (this.options.forceFallback || !Dropzone.isBrowserSupported()) {\n        return this.options.fallback.call(this);\n      }\n      if (this.options.url == null) {\n        this.options.url = this.element.getAttribute(\"action\");\n      }\n      if (!this.options.url) {\n        throw new Error(\"No URL provided.\");\n      }\n      if (this.options.acceptedFiles && this.options.acceptedMimeTypes) {\n        throw new Error(\"You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.\");\n      }\n      if (this.options.acceptedMimeTypes) {\n        this.options.acceptedFiles = this.options.acceptedMimeTypes;\n        delete this.options.acceptedMimeTypes;\n      }\n      this.options.method = this.options.method.toUpperCase();\n      if ((fallback = this.getExistingFallback()) && fallback.parentNode) {\n        fallback.parentNode.removeChild(fallback);\n      }\n      if (this.options.previewsContainer !== false) {\n        if (this.options.previewsContainer) {\n          this.previewsContainer = Dropzone.getElement(this.options.previewsContainer, \"previewsContainer\");\n        } else {\n          this.previewsContainer = this.element;\n        }\n      }\n      if (this.options.clickable) {\n        if (this.options.clickable === true) {\n          this.clickableElements = [this.element];\n        } else {\n          this.clickableElements = Dropzone.getElements(this.options.clickable, \"clickable\");\n        }\n      }\n      this.init();\n    }\n\n    Dropzone.prototype.getAcceptedFiles = function() {\n      var file, _i, _len, _ref, _results;\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (file.accepted) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.getRejectedFiles = function() {\n      var file, _i, _len, _ref, _results;\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (!file.accepted) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.getFilesWithStatus = function(status) {\n      var file, _i, _len, _ref, _results;\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (file.status === status) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.getQueuedFiles = function() {\n      return this.getFilesWithStatus(Dropzone.QUEUED);\n    };\n\n    Dropzone.prototype.getUploadingFiles = function() {\n      return this.getFilesWithStatus(Dropzone.UPLOADING);\n    };\n\n    Dropzone.prototype.getAddedFiles = function() {\n      return this.getFilesWithStatus(Dropzone.ADDED);\n    };\n\n    Dropzone.prototype.getActiveFiles = function() {\n      var file, _i, _len, _ref, _results;\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (file.status === Dropzone.UPLOADING || file.status === Dropzone.QUEUED) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.init = function() {\n      var eventName, noPropagation, setupHiddenFileInput, _i, _len, _ref, _ref1;\n      if (this.element.tagName === \"form\") {\n        this.element.setAttribute(\"enctype\", \"multipart/form-data\");\n      }\n      if (this.element.classList.contains(\"dropzone\") && !this.element.querySelector(\".dz-message\")) {\n        this.element.appendChild(Dropzone.createElement(\"<div class=\\\"dz-default dz-message\\\"><span>\" + this.options.dictDefaultMessage + \"</span></div>\"));\n      }\n      if (this.clickableElements.length) {\n        setupHiddenFileInput = (function(_this) {\n          return function() {\n            if (_this.hiddenFileInput) {\n              _this.hiddenFileInput.parentNode.removeChild(_this.hiddenFileInput);\n            }\n            _this.hiddenFileInput = document.createElement(\"input\");\n            _this.hiddenFileInput.setAttribute(\"type\", \"file\");\n            if ((_this.options.maxFiles == null) || _this.options.maxFiles > 1) {\n              _this.hiddenFileInput.setAttribute(\"multiple\", \"multiple\");\n            }\n            _this.hiddenFileInput.className = \"dz-hidden-input\";\n            if (_this.options.acceptedFiles != null) {\n              _this.hiddenFileInput.setAttribute(\"accept\", _this.options.acceptedFiles);\n            }\n            if (_this.options.capture != null) {\n              _this.hiddenFileInput.setAttribute(\"capture\", _this.options.capture);\n            }\n            _this.hiddenFileInput.style.visibility = \"hidden\";\n            _this.hiddenFileInput.style.position = \"absolute\";\n            _this.hiddenFileInput.style.top = \"0\";\n            _this.hiddenFileInput.style.left = \"0\";\n            _this.hiddenFileInput.style.height = \"0\";\n            _this.hiddenFileInput.style.width = \"0\";\n            document.querySelector(_this.options.hiddenInputContainer).appendChild(_this.hiddenFileInput);\n            return _this.hiddenFileInput.addEventListener(\"change\", function() {\n              var file, files, _i, _len;\n              files = _this.hiddenFileInput.files;\n              if (files.length) {\n                for (_i = 0, _len = files.length; _i < _len; _i++) {\n                  file = files[_i];\n                  _this.addFile(file);\n                }\n              }\n              _this.emit(\"addedfiles\", files);\n              return setupHiddenFileInput();\n            });\n          };\n        })(this);\n        setupHiddenFileInput();\n      }\n      this.URL = (_ref = window.URL) != null ? _ref : window.webkitURL;\n      _ref1 = this.events;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        eventName = _ref1[_i];\n        this.on(eventName, this.options[eventName]);\n      }\n      this.on(\"uploadprogress\", (function(_this) {\n        return function() {\n          return _this.updateTotalUploadProgress();\n        };\n      })(this));\n      this.on(\"removedfile\", (function(_this) {\n        return function() {\n          return _this.updateTotalUploadProgress();\n        };\n      })(this));\n      this.on(\"canceled\", (function(_this) {\n        return function(file) {\n          return _this.emit(\"complete\", file);\n        };\n      })(this));\n      this.on(\"complete\", (function(_this) {\n        return function(file) {\n          if (_this.getAddedFiles().length === 0 && _this.getUploadingFiles().length === 0 && _this.getQueuedFiles().length === 0) {\n            return setTimeout((function() {\n              return _this.emit(\"queuecomplete\");\n            }), 0);\n          }\n        };\n      })(this));\n      noPropagation = function(e) {\n        e.stopPropagation();\n        if (e.preventDefault) {\n          return e.preventDefault();\n        } else {\n          return e.returnValue = false;\n        }\n      };\n      this.listeners = [\n        {\n          element: this.element,\n          events: {\n            \"dragstart\": (function(_this) {\n              return function(e) {\n                return _this.emit(\"dragstart\", e);\n              };\n            })(this),\n            \"dragenter\": (function(_this) {\n              return function(e) {\n                noPropagation(e);\n                return _this.emit(\"dragenter\", e);\n              };\n            })(this),\n            \"dragover\": (function(_this) {\n              return function(e) {\n                var efct;\n                try {\n                  efct = e.dataTransfer.effectAllowed;\n                } catch (_error) {}\n                e.dataTransfer.dropEffect = 'move' === efct || 'linkMove' === efct ? 'move' : 'copy';\n                noPropagation(e);\n                return _this.emit(\"dragover\", e);\n              };\n            })(this),\n            \"dragleave\": (function(_this) {\n              return function(e) {\n                return _this.emit(\"dragleave\", e);\n              };\n            })(this),\n            \"drop\": (function(_this) {\n              return function(e) {\n                noPropagation(e);\n                return _this.drop(e);\n              };\n            })(this),\n            \"dragend\": (function(_this) {\n              return function(e) {\n                return _this.emit(\"dragend\", e);\n              };\n            })(this)\n          }\n        }\n      ];\n      this.clickableElements.forEach((function(_this) {\n        return function(clickableElement) {\n          return _this.listeners.push({\n            element: clickableElement,\n            events: {\n              \"click\": function(evt) {\n                if ((clickableElement !== _this.element) || (evt.target === _this.element || Dropzone.elementInside(evt.target, _this.element.querySelector(\".dz-message\")))) {\n                  _this.hiddenFileInput.click();\n                }\n                return true;\n              }\n            }\n          });\n        };\n      })(this));\n      this.enable();\n      return this.options.init.call(this);\n    };\n\n    Dropzone.prototype.destroy = function() {\n      var _ref;\n      this.disable();\n      this.removeAllFiles(true);\n      if ((_ref = this.hiddenFileInput) != null ? _ref.parentNode : void 0) {\n        this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);\n        this.hiddenFileInput = null;\n      }\n      delete this.element.dropzone;\n      return Dropzone.instances.splice(Dropzone.instances.indexOf(this), 1);\n    };\n\n    Dropzone.prototype.updateTotalUploadProgress = function() {\n      var activeFiles, file, totalBytes, totalBytesSent, totalUploadProgress, _i, _len, _ref;\n      totalBytesSent = 0;\n      totalBytes = 0;\n      activeFiles = this.getActiveFiles();\n      if (activeFiles.length) {\n        _ref = this.getActiveFiles();\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          file = _ref[_i];\n          totalBytesSent += file.upload.bytesSent;\n          totalBytes += file.upload.total;\n        }\n        totalUploadProgress = 100 * totalBytesSent / totalBytes;\n      } else {\n        totalUploadProgress = 100;\n      }\n      return this.emit(\"totaluploadprogress\", totalUploadProgress, totalBytes, totalBytesSent);\n    };\n\n    Dropzone.prototype._getParamName = function(n) {\n      if (typeof this.options.paramName === \"function\") {\n        return this.options.paramName(n);\n      } else {\n        return \"\" + this.options.paramName + (this.options.uploadMultiple ? \"[\" + n + \"]\" : \"\");\n      }\n    };\n\n    Dropzone.prototype.getFallbackForm = function() {\n      var existingFallback, fields, fieldsString, form;\n      if (existingFallback = this.getExistingFallback()) {\n        return existingFallback;\n      }\n      fieldsString = \"<div class=\\\"dz-fallback\\\">\";\n      if (this.options.dictFallbackText) {\n        fieldsString += \"<p>\" + this.options.dictFallbackText + \"</p>\";\n      }\n      fieldsString += \"<input type=\\\"file\\\" name=\\\"\" + (this._getParamName(0)) + \"\\\" \" + (this.options.uploadMultiple ? 'multiple=\"multiple\"' : void 0) + \" /><input type=\\\"submit\\\" value=\\\"Upload!\\\"></div>\";\n      fields = Dropzone.createElement(fieldsString);\n      if (this.element.tagName !== \"FORM\") {\n        form = Dropzone.createElement(\"<form action=\\\"\" + this.options.url + \"\\\" enctype=\\\"multipart/form-data\\\" method=\\\"\" + this.options.method + \"\\\"></form>\");\n        form.appendChild(fields);\n      } else {\n        this.element.setAttribute(\"enctype\", \"multipart/form-data\");\n        this.element.setAttribute(\"method\", this.options.method);\n      }\n      return form != null ? form : fields;\n    };\n\n    Dropzone.prototype.getExistingFallback = function() {\n      var fallback, getFallback, tagName, _i, _len, _ref;\n      getFallback = function(elements) {\n        var el, _i, _len;\n        for (_i = 0, _len = elements.length; _i < _len; _i++) {\n          el = elements[_i];\n          if (/(^| )fallback($| )/.test(el.className)) {\n            return el;\n          }\n        }\n      };\n      _ref = [\"div\", \"form\"];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        tagName = _ref[_i];\n        if (fallback = getFallback(this.element.getElementsByTagName(tagName))) {\n          return fallback;\n        }\n      }\n    };\n\n    Dropzone.prototype.setupEventListeners = function() {\n      var elementListeners, event, listener, _i, _len, _ref, _results;\n      _ref = this.listeners;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elementListeners = _ref[_i];\n        _results.push((function() {\n          var _ref1, _results1;\n          _ref1 = elementListeners.events;\n          _results1 = [];\n          for (event in _ref1) {\n            listener = _ref1[event];\n            _results1.push(elementListeners.element.addEventListener(event, listener, false));\n          }\n          return _results1;\n        })());\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.removeEventListeners = function() {\n      var elementListeners, event, listener, _i, _len, _ref, _results;\n      _ref = this.listeners;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elementListeners = _ref[_i];\n        _results.push((function() {\n          var _ref1, _results1;\n          _ref1 = elementListeners.events;\n          _results1 = [];\n          for (event in _ref1) {\n            listener = _ref1[event];\n            _results1.push(elementListeners.element.removeEventListener(event, listener, false));\n          }\n          return _results1;\n        })());\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.disable = function() {\n      var file, _i, _len, _ref, _results;\n      this.clickableElements.forEach(function(element) {\n        return element.classList.remove(\"dz-clickable\");\n      });\n      this.removeEventListeners();\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        _results.push(this.cancelUpload(file));\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.enable = function() {\n      this.clickableElements.forEach(function(element) {\n        return element.classList.add(\"dz-clickable\");\n      });\n      return this.setupEventListeners();\n    };\n\n    Dropzone.prototype.filesize = function(size) {\n      var cutoff, i, selectedSize, selectedUnit, unit, units, _i, _len;\n      selectedSize = 0;\n      selectedUnit = \"b\";\n      if (size > 0) {\n        units = ['TB', 'GB', 'MB', 'KB', 'b'];\n        for (i = _i = 0, _len = units.length; _i < _len; i = ++_i) {\n          unit = units[i];\n          cutoff = Math.pow(this.options.filesizeBase, 4 - i) / 10;\n          if (size >= cutoff) {\n            selectedSize = size / Math.pow(this.options.filesizeBase, 4 - i);\n            selectedUnit = unit;\n            break;\n          }\n        }\n        selectedSize = Math.round(10 * selectedSize) / 10;\n      }\n      return \"<strong>\" + selectedSize + \"</strong> \" + selectedUnit;\n    };\n\n    Dropzone.prototype._updateMaxFilesReachedClass = function() {\n      if ((this.options.maxFiles != null) && this.getAcceptedFiles().length >= this.options.maxFiles) {\n        if (this.getAcceptedFiles().length === this.options.maxFiles) {\n          this.emit('maxfilesreached', this.files);\n        }\n        return this.element.classList.add(\"dz-max-files-reached\");\n      } else {\n        return this.element.classList.remove(\"dz-max-files-reached\");\n      }\n    };\n\n    Dropzone.prototype.drop = function(e) {\n      var files, items;\n      if (!e.dataTransfer) {\n        return;\n      }\n      this.emit(\"drop\", e);\n      files = e.dataTransfer.files;\n      this.emit(\"addedfiles\", files);\n      if (files.length) {\n        items = e.dataTransfer.items;\n        if (items && items.length && (items[0].webkitGetAsEntry != null)) {\n          this._addFilesFromItems(items);\n        } else {\n          this.handleFiles(files);\n        }\n      }\n    };\n\n    Dropzone.prototype.paste = function(e) {\n      var items, _ref;\n      if ((e != null ? (_ref = e.clipboardData) != null ? _ref.items : void 0 : void 0) == null) {\n        return;\n      }\n      this.emit(\"paste\", e);\n      items = e.clipboardData.items;\n      if (items.length) {\n        return this._addFilesFromItems(items);\n      }\n    };\n\n    Dropzone.prototype.handleFiles = function(files) {\n      var file, _i, _len, _results;\n      _results = [];\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        _results.push(this.addFile(file));\n      }\n      return _results;\n    };\n\n    Dropzone.prototype._addFilesFromItems = function(items) {\n      var entry, item, _i, _len, _results;\n      _results = [];\n      for (_i = 0, _len = items.length; _i < _len; _i++) {\n        item = items[_i];\n        if ((item.webkitGetAsEntry != null) && (entry = item.webkitGetAsEntry())) {\n          if (entry.isFile) {\n            _results.push(this.addFile(item.getAsFile()));\n          } else if (entry.isDirectory) {\n            _results.push(this._addFilesFromDirectory(entry, entry.name));\n          } else {\n            _results.push(void 0);\n          }\n        } else if (item.getAsFile != null) {\n          if ((item.kind == null) || item.kind === \"file\") {\n            _results.push(this.addFile(item.getAsFile()));\n          } else {\n            _results.push(void 0);\n          }\n        } else {\n          _results.push(void 0);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype._addFilesFromDirectory = function(directory, path) {\n      var dirReader, entriesReader;\n      dirReader = directory.createReader();\n      entriesReader = (function(_this) {\n        return function(entries) {\n          var entry, _i, _len;\n          for (_i = 0, _len = entries.length; _i < _len; _i++) {\n            entry = entries[_i];\n            if (entry.isFile) {\n              entry.file(function(file) {\n                if (_this.options.ignoreHiddenFiles && file.name.substring(0, 1) === '.') {\n                  return;\n                }\n                file.fullPath = \"\" + path + \"/\" + file.name;\n                return _this.addFile(file);\n              });\n            } else if (entry.isDirectory) {\n              _this._addFilesFromDirectory(entry, \"\" + path + \"/\" + entry.name);\n            }\n          }\n        };\n      })(this);\n      return dirReader.readEntries(entriesReader, function(error) {\n        return typeof console !== \"undefined\" && console !== null ? typeof console.log === \"function\" ? console.log(error) : void 0 : void 0;\n      });\n    };\n\n    Dropzone.prototype.accept = function(file, done) {\n      if (file.size > this.options.maxFilesize * 1024 * 1024) {\n        return done(this.options.dictFileTooBig.replace(\"{{filesize}}\", Math.round(file.size / 1024 / 10.24) / 100).replace(\"{{maxFilesize}}\", this.options.maxFilesize));\n      } else if (!Dropzone.isValidFile(file, this.options.acceptedFiles)) {\n        return done(this.options.dictInvalidFileType);\n      } else if ((this.options.maxFiles != null) && this.getAcceptedFiles().length >= this.options.maxFiles) {\n        done(this.options.dictMaxFilesExceeded.replace(\"{{maxFiles}}\", this.options.maxFiles));\n        return this.emit(\"maxfilesexceeded\", file);\n      } else {\n        return this.options.accept.call(this, file, done);\n      }\n    };\n\n    Dropzone.prototype.addFile = function(file) {\n      file.upload = {\n        progress: 0,\n        total: file.size,\n        bytesSent: 0\n      };\n      this.files.push(file);\n      file.status = Dropzone.ADDED;\n      this.emit(\"addedfile\", file);\n      this._enqueueThumbnail(file);\n      return this.accept(file, (function(_this) {\n        return function(error) {\n          if (error) {\n            file.accepted = false;\n            _this._errorProcessing([file], error);\n          } else {\n            file.accepted = true;\n            if (_this.options.autoQueue) {\n              _this.enqueueFile(file);\n            }\n          }\n          return _this._updateMaxFilesReachedClass();\n        };\n      })(this));\n    };\n\n    Dropzone.prototype.enqueueFiles = function(files) {\n      var file, _i, _len;\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        this.enqueueFile(file);\n      }\n      return null;\n    };\n\n    Dropzone.prototype.enqueueFile = function(file) {\n      if (file.status === Dropzone.ADDED && file.accepted === true) {\n        file.status = Dropzone.QUEUED;\n        if (this.options.autoProcessQueue) {\n          return setTimeout(((function(_this) {\n            return function() {\n              return _this.processQueue();\n            };\n          })(this)), 0);\n        }\n      } else {\n        throw new Error(\"This file can't be queued because it has already been processed or was rejected.\");\n      }\n    };\n\n    Dropzone.prototype._thumbnailQueue = [];\n\n    Dropzone.prototype._processingThumbnail = false;\n\n    Dropzone.prototype._enqueueThumbnail = function(file) {\n      if (this.options.createImageThumbnails && file.type.match(/image.*/) && file.size <= this.options.maxThumbnailFilesize * 1024 * 1024) {\n        this._thumbnailQueue.push(file);\n        return setTimeout(((function(_this) {\n          return function() {\n            return _this._processThumbnailQueue();\n          };\n        })(this)), 0);\n      }\n    };\n\n    Dropzone.prototype._processThumbnailQueue = function() {\n      if (this._processingThumbnail || this._thumbnailQueue.length === 0) {\n        return;\n      }\n      this._processingThumbnail = true;\n      return this.createThumbnail(this._thumbnailQueue.shift(), (function(_this) {\n        return function() {\n          _this._processingThumbnail = false;\n          return _this._processThumbnailQueue();\n        };\n      })(this));\n    };\n\n    Dropzone.prototype.removeFile = function(file) {\n      if (file.status === Dropzone.UPLOADING) {\n        this.cancelUpload(file);\n      }\n      this.files = without(this.files, file);\n      this.emit(\"removedfile\", file);\n      if (this.files.length === 0) {\n        return this.emit(\"reset\");\n      }\n    };\n\n    Dropzone.prototype.removeAllFiles = function(cancelIfNecessary) {\n      var file, _i, _len, _ref;\n      if (cancelIfNecessary == null) {\n        cancelIfNecessary = false;\n      }\n      _ref = this.files.slice();\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (file.status !== Dropzone.UPLOADING || cancelIfNecessary) {\n          this.removeFile(file);\n        }\n      }\n      return null;\n    };\n\n    Dropzone.prototype.createThumbnail = function(file, callback) {\n      var fileReader;\n      fileReader = new FileReader;\n      fileReader.onload = (function(_this) {\n        return function() {\n          if (file.type === \"image/svg+xml\") {\n            _this.emit(\"thumbnail\", file, fileReader.result);\n            if (callback != null) {\n              callback();\n            }\n            return;\n          }\n          return _this.createThumbnailFromUrl(file, fileReader.result, callback);\n        };\n      })(this);\n      return fileReader.readAsDataURL(file);\n    };\n\n    Dropzone.prototype.createThumbnailFromUrl = function(file, imageUrl, callback, crossOrigin) {\n      var img;\n      img = document.createElement(\"img\");\n      if (crossOrigin) {\n        img.crossOrigin = crossOrigin;\n      }\n      img.onload = (function(_this) {\n        return function() {\n          var canvas, ctx, resizeInfo, thumbnail, _ref, _ref1, _ref2, _ref3;\n          file.width = img.width;\n          file.height = img.height;\n          resizeInfo = _this.options.resize.call(_this, file);\n          if (resizeInfo.trgWidth == null) {\n            resizeInfo.trgWidth = resizeInfo.optWidth;\n          }\n          if (resizeInfo.trgHeight == null) {\n            resizeInfo.trgHeight = resizeInfo.optHeight;\n          }\n          canvas = document.createElement(\"canvas\");\n          ctx = canvas.getContext(\"2d\");\n          canvas.width = resizeInfo.trgWidth;\n          canvas.height = resizeInfo.trgHeight;\n          drawImageIOSFix(ctx, img, (_ref = resizeInfo.srcX) != null ? _ref : 0, (_ref1 = resizeInfo.srcY) != null ? _ref1 : 0, resizeInfo.srcWidth, resizeInfo.srcHeight, (_ref2 = resizeInfo.trgX) != null ? _ref2 : 0, (_ref3 = resizeInfo.trgY) != null ? _ref3 : 0, resizeInfo.trgWidth, resizeInfo.trgHeight);\n          thumbnail = canvas.toDataURL(\"image/png\");\n          _this.emit(\"thumbnail\", file, thumbnail);\n          if (callback != null) {\n            return callback();\n          }\n        };\n      })(this);\n      if (callback != null) {\n        img.onerror = callback;\n      }\n      return img.src = imageUrl;\n    };\n\n    Dropzone.prototype.processQueue = function() {\n      var i, parallelUploads, processingLength, queuedFiles;\n      parallelUploads = this.options.parallelUploads;\n      processingLength = this.getUploadingFiles().length;\n      i = processingLength;\n      if (processingLength >= parallelUploads) {\n        return;\n      }\n      queuedFiles = this.getQueuedFiles();\n      if (!(queuedFiles.length > 0)) {\n        return;\n      }\n      if (this.options.uploadMultiple) {\n        return this.processFiles(queuedFiles.slice(0, parallelUploads - processingLength));\n      } else {\n        while (i < parallelUploads) {\n          if (!queuedFiles.length) {\n            return;\n          }\n          this.processFile(queuedFiles.shift());\n          i++;\n        }\n      }\n    };\n\n    Dropzone.prototype.processFile = function(file) {\n      return this.processFiles([file]);\n    };\n\n    Dropzone.prototype.processFiles = function(files) {\n      var file, _i, _len;\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        file.processing = true;\n        file.status = Dropzone.UPLOADING;\n        this.emit(\"processing\", file);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"processingmultiple\", files);\n      }\n      return this.uploadFiles(files);\n    };\n\n    Dropzone.prototype._getFilesWithXhr = function(xhr) {\n      var file, files;\n      return files = (function() {\n        var _i, _len, _ref, _results;\n        _ref = this.files;\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          file = _ref[_i];\n          if (file.xhr === xhr) {\n            _results.push(file);\n          }\n        }\n        return _results;\n      }).call(this);\n    };\n\n    Dropzone.prototype.cancelUpload = function(file) {\n      var groupedFile, groupedFiles, _i, _j, _len, _len1, _ref;\n      if (file.status === Dropzone.UPLOADING) {\n        groupedFiles = this._getFilesWithXhr(file.xhr);\n        for (_i = 0, _len = groupedFiles.length; _i < _len; _i++) {\n          groupedFile = groupedFiles[_i];\n          groupedFile.status = Dropzone.CANCELED;\n        }\n        file.xhr.abort();\n        for (_j = 0, _len1 = groupedFiles.length; _j < _len1; _j++) {\n          groupedFile = groupedFiles[_j];\n          this.emit(\"canceled\", groupedFile);\n        }\n        if (this.options.uploadMultiple) {\n          this.emit(\"canceledmultiple\", groupedFiles);\n        }\n      } else if ((_ref = file.status) === Dropzone.ADDED || _ref === Dropzone.QUEUED) {\n        file.status = Dropzone.CANCELED;\n        this.emit(\"canceled\", file);\n        if (this.options.uploadMultiple) {\n          this.emit(\"canceledmultiple\", [file]);\n        }\n      }\n      if (this.options.autoProcessQueue) {\n        return this.processQueue();\n      }\n    };\n\n    resolveOption = function() {\n      var args, option;\n      option = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      if (typeof option === 'function') {\n        return option.apply(this, args);\n      }\n      return option;\n    };\n\n    Dropzone.prototype.uploadFile = function(file) {\n      return this.uploadFiles([file]);\n    };\n\n    Dropzone.prototype.uploadFiles = function(files) {\n      var file, formData, handleError, headerName, headerValue, headers, i, input, inputName, inputType, key, method, option, progressObj, response, updateProgress, url, value, xhr, _i, _j, _k, _l, _len, _len1, _len2, _len3, _m, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;\n      xhr = new XMLHttpRequest();\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        file.xhr = xhr;\n      }\n      method = resolveOption(this.options.method, files);\n      url = resolveOption(this.options.url, files);\n      xhr.open(method, url, true);\n      xhr.withCredentials = !!this.options.withCredentials;\n      response = null;\n      handleError = (function(_this) {\n        return function() {\n          var _j, _len1, _results;\n          _results = [];\n          for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\n            file = files[_j];\n            _results.push(_this._errorProcessing(files, response || _this.options.dictResponseError.replace(\"{{statusCode}}\", xhr.status), xhr));\n          }\n          return _results;\n        };\n      })(this);\n      updateProgress = (function(_this) {\n        return function(e) {\n          var allFilesFinished, progress, _j, _k, _l, _len1, _len2, _len3, _results;\n          if (e != null) {\n            progress = 100 * e.loaded / e.total;\n            for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\n              file = files[_j];\n              file.upload = {\n                progress: progress,\n                total: e.total,\n                bytesSent: e.loaded\n              };\n            }\n          } else {\n            allFilesFinished = true;\n            progress = 100;\n            for (_k = 0, _len2 = files.length; _k < _len2; _k++) {\n              file = files[_k];\n              if (!(file.upload.progress === 100 && file.upload.bytesSent === file.upload.total)) {\n                allFilesFinished = false;\n              }\n              file.upload.progress = progress;\n              file.upload.bytesSent = file.upload.total;\n            }\n            if (allFilesFinished) {\n              return;\n            }\n          }\n          _results = [];\n          for (_l = 0, _len3 = files.length; _l < _len3; _l++) {\n            file = files[_l];\n            _results.push(_this.emit(\"uploadprogress\", file, progress, file.upload.bytesSent));\n          }\n          return _results;\n        };\n      })(this);\n      xhr.onload = (function(_this) {\n        return function(e) {\n          var _ref;\n          if (files[0].status === Dropzone.CANCELED) {\n            return;\n          }\n          if (xhr.readyState !== 4) {\n            return;\n          }\n          response = xhr.responseText;\n          if (xhr.getResponseHeader(\"content-type\") && ~xhr.getResponseHeader(\"content-type\").indexOf(\"application/json\")) {\n            try {\n              response = JSON.parse(response);\n            } catch (_error) {\n              e = _error;\n              response = \"Invalid JSON response from server.\";\n            }\n          }\n          updateProgress();\n          if (!((200 <= (_ref = xhr.status) && _ref < 300))) {\n            return handleError();\n          } else {\n            return _this._finished(files, response, e);\n          }\n        };\n      })(this);\n      xhr.onerror = (function(_this) {\n        return function() {\n          if (files[0].status === Dropzone.CANCELED) {\n            return;\n          }\n          return handleError();\n        };\n      })(this);\n      progressObj = (_ref = xhr.upload) != null ? _ref : xhr;\n      progressObj.onprogress = updateProgress;\n      headers = {\n        \"Accept\": \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n        \"X-Requested-With\": \"XMLHttpRequest\"\n      };\n      if (this.options.headers) {\n        extend(headers, this.options.headers);\n      }\n      for (headerName in headers) {\n        headerValue = headers[headerName];\n        if (headerValue) {\n          xhr.setRequestHeader(headerName, headerValue);\n        }\n      }\n      formData = new FormData();\n      if (this.options.params) {\n        _ref1 = this.options.params;\n        for (key in _ref1) {\n          value = _ref1[key];\n          formData.append(key, value);\n        }\n      }\n      for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\n        file = files[_j];\n        this.emit(\"sending\", file, xhr, formData);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"sendingmultiple\", files, xhr, formData);\n      }\n      if (this.element.tagName === \"FORM\") {\n        _ref2 = this.element.querySelectorAll(\"input, textarea, select, button\");\n        for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\n          input = _ref2[_k];\n          inputName = input.getAttribute(\"name\");\n          inputType = input.getAttribute(\"type\");\n          if (input.tagName === \"SELECT\" && input.hasAttribute(\"multiple\")) {\n            _ref3 = input.options;\n            for (_l = 0, _len3 = _ref3.length; _l < _len3; _l++) {\n              option = _ref3[_l];\n              if (option.selected) {\n                formData.append(inputName, option.value);\n              }\n            }\n          } else if (!inputType || ((_ref4 = inputType.toLowerCase()) !== \"checkbox\" && _ref4 !== \"radio\") || input.checked) {\n            formData.append(inputName, input.value);\n          }\n        }\n      }\n      for (i = _m = 0, _ref5 = files.length - 1; 0 <= _ref5 ? _m <= _ref5 : _m >= _ref5; i = 0 <= _ref5 ? ++_m : --_m) {\n        formData.append(this._getParamName(i), files[i], files[i].name);\n      }\n      return this.submitRequest(xhr, formData, files);\n    };\n\n    Dropzone.prototype.submitRequest = function(xhr, formData, files) {\n      return xhr.send(formData);\n    };\n\n    Dropzone.prototype._finished = function(files, responseText, e) {\n      var file, _i, _len;\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        file.status = Dropzone.SUCCESS;\n        this.emit(\"success\", file, responseText, e);\n        this.emit(\"complete\", file);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"successmultiple\", files, responseText, e);\n        this.emit(\"completemultiple\", files);\n      }\n      if (this.options.autoProcessQueue) {\n        return this.processQueue();\n      }\n    };\n\n    Dropzone.prototype._errorProcessing = function(files, message, xhr) {\n      var file, _i, _len;\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        file.status = Dropzone.ERROR;\n        this.emit(\"error\", file, message, xhr);\n        this.emit(\"complete\", file);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"errormultiple\", files, message, xhr);\n        this.emit(\"completemultiple\", files);\n      }\n      if (this.options.autoProcessQueue) {\n        return this.processQueue();\n      }\n    };\n\n    return Dropzone;\n\n  })(Emitter);\n\n  Dropzone.version = \"4.2.0\";\n\n  Dropzone.options = {};\n\n  Dropzone.optionsForElement = function(element) {\n    if (element.getAttribute(\"id\")) {\n      return Dropzone.options[camelize(element.getAttribute(\"id\"))];\n    } else {\n      return void 0;\n    }\n  };\n\n  Dropzone.instances = [];\n\n  Dropzone.forElement = function(element) {\n    if (typeof element === \"string\") {\n      element = document.querySelector(element);\n    }\n    if ((element != null ? element.dropzone : void 0) == null) {\n      throw new Error(\"No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.\");\n    }\n    return element.dropzone;\n  };\n\n  Dropzone.autoDiscover = true;\n\n  Dropzone.discover = function() {\n    var checkElements, dropzone, dropzones, _i, _len, _results;\n    if (document.querySelectorAll) {\n      dropzones = document.querySelectorAll(\".dropzone\");\n    } else {\n      dropzones = [];\n      checkElements = function(elements) {\n        var el, _i, _len, _results;\n        _results = [];\n        for (_i = 0, _len = elements.length; _i < _len; _i++) {\n          el = elements[_i];\n          if (/(^| )dropzone($| )/.test(el.className)) {\n            _results.push(dropzones.push(el));\n          } else {\n            _results.push(void 0);\n          }\n        }\n        return _results;\n      };\n      checkElements(document.getElementsByTagName(\"div\"));\n      checkElements(document.getElementsByTagName(\"form\"));\n    }\n    _results = [];\n    for (_i = 0, _len = dropzones.length; _i < _len; _i++) {\n      dropzone = dropzones[_i];\n      if (Dropzone.optionsForElement(dropzone) !== false) {\n        _results.push(new Dropzone(dropzone));\n      } else {\n        _results.push(void 0);\n      }\n    }\n    return _results;\n  };\n\n  Dropzone.blacklistedBrowsers = [/opera.*Macintosh.*version\\/12/i];\n\n  Dropzone.isBrowserSupported = function() {\n    var capableBrowser, regex, _i, _len, _ref;\n    capableBrowser = true;\n    if (window.File && window.FileReader && window.FileList && window.Blob && window.FormData && document.querySelector) {\n      if (!(\"classList\" in document.createElement(\"a\"))) {\n        capableBrowser = false;\n      } else {\n        _ref = Dropzone.blacklistedBrowsers;\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          regex = _ref[_i];\n          if (regex.test(navigator.userAgent)) {\n            capableBrowser = false;\n            continue;\n          }\n        }\n      }\n    } else {\n      capableBrowser = false;\n    }\n    return capableBrowser;\n  };\n\n  without = function(list, rejectedItem) {\n    var item, _i, _len, _results;\n    _results = [];\n    for (_i = 0, _len = list.length; _i < _len; _i++) {\n      item = list[_i];\n      if (item !== rejectedItem) {\n        _results.push(item);\n      }\n    }\n    return _results;\n  };\n\n  camelize = function(str) {\n    return str.replace(/[\\-_](\\w)/g, function(match) {\n      return match.charAt(1).toUpperCase();\n    });\n  };\n\n  Dropzone.createElement = function(string) {\n    var div;\n    div = document.createElement(\"div\");\n    div.innerHTML = string;\n    return div.childNodes[0];\n  };\n\n  Dropzone.elementInside = function(element, container) {\n    if (element === container) {\n      return true;\n    }\n    while (element = element.parentNode) {\n      if (element === container) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  Dropzone.getElement = function(el, name) {\n    var element;\n    if (typeof el === \"string\") {\n      element = document.querySelector(el);\n    } else if (el.nodeType != null) {\n      element = el;\n    }\n    if (element == null) {\n      throw new Error(\"Invalid `\" + name + \"` option provided. Please provide a CSS selector or a plain HTML element.\");\n    }\n    return element;\n  };\n\n  Dropzone.getElements = function(els, name) {\n    var e, el, elements, _i, _j, _len, _len1, _ref;\n    if (els instanceof Array) {\n      elements = [];\n      try {\n        for (_i = 0, _len = els.length; _i < _len; _i++) {\n          el = els[_i];\n          elements.push(this.getElement(el, name));\n        }\n      } catch (_error) {\n        e = _error;\n        elements = null;\n      }\n    } else if (typeof els === \"string\") {\n      elements = [];\n      _ref = document.querySelectorAll(els);\n      for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {\n        el = _ref[_j];\n        elements.push(el);\n      }\n    } else if (els.nodeType != null) {\n      elements = [els];\n    }\n    if (!((elements != null) && elements.length)) {\n      throw new Error(\"Invalid `\" + name + \"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.\");\n    }\n    return elements;\n  };\n\n  Dropzone.confirm = function(question, accepted, rejected) {\n    if (window.confirm(question)) {\n      return accepted();\n    } else if (rejected != null) {\n      return rejected();\n    }\n  };\n\n  Dropzone.isValidFile = function(file, acceptedFiles) {\n    var baseMimeType, mimeType, validType, _i, _len;\n    if (!acceptedFiles) {\n      return true;\n    }\n    acceptedFiles = acceptedFiles.split(\",\");\n    mimeType = file.type;\n    baseMimeType = mimeType.replace(/\\/.*$/, \"\");\n    for (_i = 0, _len = acceptedFiles.length; _i < _len; _i++) {\n      validType = acceptedFiles[_i];\n      validType = validType.trim();\n      if (validType.charAt(0) === \".\") {\n        if (file.name.toLowerCase().indexOf(validType.toLowerCase(), file.name.length - validType.length) !== -1) {\n          return true;\n        }\n      } else if (/\\/\\*$/.test(validType)) {\n        if (baseMimeType === validType.replace(/\\/.*$/, \"\")) {\n          return true;\n        }\n      } else {\n        if (mimeType === validType) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n\n  if (typeof jQuery !== \"undefined\" && jQuery !== null) {\n    jQuery.fn.dropzone = function(options) {\n      return this.each(function() {\n        return new Dropzone(this, options);\n      });\n    };\n  }\n\n  if (typeof module !== \"undefined\" && module !== null) {\n    module.exports = Dropzone;\n  } else {\n    window.Dropzone = Dropzone;\n  }\n\n  Dropzone.ADDED = \"added\";\n\n  Dropzone.QUEUED = \"queued\";\n\n  Dropzone.ACCEPTED = Dropzone.QUEUED;\n\n  Dropzone.UPLOADING = \"uploading\";\n\n  Dropzone.PROCESSING = Dropzone.UPLOADING;\n\n  Dropzone.CANCELED = \"canceled\";\n\n  Dropzone.ERROR = \"error\";\n\n  Dropzone.SUCCESS = \"success\";\n\n\n  /*\n  \n  Bugfix for iOS 6 and 7\n  Source: http://stackoverflow.com/questions/11929099/html5-canvas-drawimage-ratio-bug-ios\n  based on the work of https://github.com/stomita/ios-imagefile-megapixel\n   */\n\n  detectVerticalSquash = function(img) {\n    var alpha, canvas, ctx, data, ey, ih, iw, py, ratio, sy;\n    iw = img.naturalWidth;\n    ih = img.naturalHeight;\n    canvas = document.createElement(\"canvas\");\n    canvas.width = 1;\n    canvas.height = ih;\n    ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(img, 0, 0);\n    data = ctx.getImageData(0, 0, 1, ih).data;\n    sy = 0;\n    ey = ih;\n    py = ih;\n    while (py > sy) {\n      alpha = data[(py - 1) * 4 + 3];\n      if (alpha === 0) {\n        ey = py;\n      } else {\n        sy = py;\n      }\n      py = (ey + sy) >> 1;\n    }\n    ratio = py / ih;\n    if (ratio === 0) {\n      return 1;\n    } else {\n      return ratio;\n    }\n  };\n\n  drawImageIOSFix = function(ctx, img, sx, sy, sw, sh, dx, dy, dw, dh) {\n    var vertSquashRatio;\n    vertSquashRatio = detectVerticalSquash(img);\n    return ctx.drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh / vertSquashRatio);\n  };\n\n\n  /*\n   * contentloaded.js\n   *\n   * Author: Diego Perini (diego.perini at gmail.com)\n   * Summary: cross-browser wrapper for DOMContentLoaded\n   * Updated: 20101020\n   * License: MIT\n   * Version: 1.2\n   *\n   * URL:\n   * http://javascript.nwbox.com/ContentLoaded/\n   * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE\n   */\n\n  contentLoaded = function(win, fn) {\n    var add, doc, done, init, poll, pre, rem, root, top;\n    done = false;\n    top = true;\n    doc = win.document;\n    root = doc.documentElement;\n    add = (doc.addEventListener ? \"addEventListener\" : \"attachEvent\");\n    rem = (doc.addEventListener ? \"removeEventListener\" : \"detachEvent\");\n    pre = (doc.addEventListener ? \"\" : \"on\");\n    init = function(e) {\n      if (e.type === \"readystatechange\" && doc.readyState !== \"complete\") {\n        return;\n      }\n      (e.type === \"load\" ? win : doc)[rem](pre + e.type, init, false);\n      if (!done && (done = true)) {\n        return fn.call(win, e.type || e);\n      }\n    };\n    poll = function() {\n      var e;\n      try {\n        root.doScroll(\"left\");\n      } catch (_error) {\n        e = _error;\n        setTimeout(poll, 50);\n        return;\n      }\n      return init(\"poll\");\n    };\n    if (doc.readyState !== \"complete\") {\n      if (doc.createEventObject && root.doScroll) {\n        try {\n          top = !win.frameElement;\n        } catch (_error) {}\n        if (top) {\n          poll();\n        }\n      }\n      doc[add](pre + \"DOMContentLoaded\", init, false);\n      doc[add](pre + \"readystatechange\", init, false);\n      return win[add](pre + \"load\", init, false);\n    }\n  };\n\n  Dropzone._autoDiscoverFunction = function() {\n    if (Dropzone.autoDiscover) {\n      return Dropzone.discover();\n    }\n  };\n\n  contentLoaded(window, Dropzone._autoDiscoverFunction);\n\n}).call(this);","// Embed latest YouTube video\nvar channelID = \"UCtSUTtkZlALToswWQpWS2kA\";\nvar reqURL = \"https://www.youtube.com/feeds/videos.xml?channel_id=\";\n\n$.getJSON(\"https://api.rss2json.com/v1/api.json?rss_url=\" + encodeURIComponent(reqURL)+channelID, function(data) {\n\n\t var link = data.items[1].link;\n\t var id = link.substr(link.indexOf(\"=\")+1);\n\t var link2 = data.items[0].link;\n\t var id2 = link2.substr(link2.indexOf(\"=\")+1);\n\n\t$(\"#last_week_youtube_video\").attr(\"src\",\"https://youtube.com/embed/\"+id + \"?controls=0&showinfo=0&rel=0\");\n\t$(\"#latest_youtube_video\").attr(\"src\",\"https://youtube.com/embed/\"+id2 + \"?controls=0&showinfo=0&rel=0\");\n});\n\n\n//\n// // Creare's 'Implied Consent' EU Cookie Law Banner v:2.4\n// // Conceived by Robert Kent, James Bavington & Tom Foyster\n//\n// var dropCookie = true;                      // false disables the Cookie, allowing you to style the banner\n// var cookieDuration = 14;                    // Number of days before the cookie expires, and the banner reappears\n// var cookieName = 'complianceCookie';        // Name of our cookie\n// var cookieValue = 'on';                     // Value of cookie\n//\n// function createDiv(){\n//   var bodytag = document.getElementsByTagName('body')[0];\n//   var div = document.createElement('div');\n//   div.setAttribute('id','cookie-law');\n//   div.setAttribute('class', 'panel panel-default')\n//   div.innerHTML = '<p id=\"cookie-message\" class=\"panel-body\">Our website uses cookies to improve your experience. <a href=\"/church/privacy-policy/\" rel=\"nofollow\" title=\"Privacy Policy\">Find out more</a>. <a class=\"close-cookie-banner pull-right badge\" href=\"javascript:void(0);\" onclick=\"removeMe();\"><span>X</span></a></p>';\n//  // Be advised the Close Banner 'X' link requires jQuery\n//\n//   // bodytag.appendChild(div); // Adds the Cookie Law Banner just before the closing </body> tag\n//   // or\n//   bodytag.insertBefore(div,bodytag.firstChild); // Adds the Cookie Law Banner just after the opening <body> tag\n//\n//   document.getElementsByTagName('body')[0].className+=' cookiebanner'; //Adds a class tothe <body> tag when the banner is visible\n//\n//   createCookie(window.cookieName,window.cookieValue, window.cookieDuration); // Create the cookie\n// }\n//\n//\n// function createCookie(name,value,days) {\n//   if (days) {\n// \tvar date = new Date();\n// \tdate.setTime(date.getTime()+(days*24*60*60*1000));\n// \tvar expires = \"; expires=\"+date.toGMTString();\n//   }\n//   else var expires = \"\";\n//   if(window.dropCookie) {\n// \tdocument.cookie = name+\"=\"+value+expires+\"; path=/\";\n//   }\n// }\n//\n// function checkCookie(name) {\n//   var nameEQ = name + \"=\";\n//   var ca = document.cookie.split(';');\n//   for(var i=0;i < ca.length;i++) {\n// \tvar c = ca[i];\n// \twhile (c.charAt(0)==' ') c = c.substring(1,c.length);\n// \tif (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n//   }\n//   return null;\n// }\n//\n// function eraseCookie(name) {\n//   createCookie(name,\"\",-1);\n// }\n//\n// window.onload = function(){\n//   if(checkCookie(window.cookieName) != window.cookieValue){\n// \tcreateDiv();\n//   }\n// }\n//\n// function removeMe(){\n//   var element = document.getElementById('cookie-law');\n//   element.parentNode.removeChild(element);\n// }\n","/*\n * ID3 (v1/v2) Parser\n * 43081j\n * License: MIT, see LICENSE\n */\n\n(function() {\n  /*\n   * lib/reader.js\n   * Readers (local, ajax, file)\n   */\n  var Reader = function(type) {\n    this.type = type || Reader.OPEN_URI;\n    this.size = null;\n    this.file = null;\n  };\n\n  Reader.OPEN_FILE = 1;\n  Reader.OPEN_URI = 2;\n  Reader.OPEN_LOCAL = 3;\n\n  if(typeof require === 'function') {\n    var fs = require('fs');\n  }\n\n  Reader.prototype.open = function(file, callback) {\n    this.file = file;\n    var self = this;\n    switch(this.type) {\n      case Reader.OPEN_LOCAL:\n        fs.stat(this.file, function(err, stat) {\n          if(err) {\n            return callback(err);\n          }\n          self.size = stat.size;\n          fs.open(self.file, 'r', function(err, fd) {\n            if(err) {\n              return callback(err);\n            }\n            self.fd = fd;\n            callback();\n          });\n        });\n      break;\n      case Reader.OPEN_FILE:\n        this.size = this.file.size;\n        callback();\n      break;\n      default:\n        this.ajax(\n          {\n            uri: this.file,\n            type: 'HEAD',\n          },\n          function(err, resp, xhr) {\n            if(err) {\n              return callback(err);\n            }\n            self.size = parseInt(xhr.getResponseHeader('Content-Length'));\n            callback();\n          }\n        );\n      break;\n    }\n  };\n\n  Reader.prototype.close = function() {\n    if(this.type === Reader.OPEN_LOCAL) {\n      fs.close(this.fd);\n    }\n  };\n\n  Reader.prototype.read = function(length, position, callback) {\n    if(typeof position === 'function') {\n      callback = position;\n      position = 0;\n    }\n    if(this.type === Reader.OPEN_LOCAL) {\n      this.readLocal(length, position, callback);\n    } else if(this.type === Reader.OPEN_FILE) {\n      this.readFile(length, position, callback);\n    } else {\n      this.readUri(length, position, callback);\n    }\n  };\n\n  Reader.prototype.readBlob = function(length, position, type, callback) {\n    if(typeof position === 'function') {\n      callback = position;\n      position = 0;\n    } else if(typeof type === 'function') {\n      callback = type;\n      type = 'application/octet-stream';\n    }\n    this.read(length, position, function(err, data) {\n      if(err) {\n        callback(err);\n        return;\n      }\n      callback(null, new Blob([data], {type: type}));\n    });\n  };\n\n  /*\n   * Local reader\n   */\n  Reader.prototype.readLocal = function(length, position, callback) {\n    var buffer = new Buffer(length);\n    fs.read(this.fd, buffer, 0, length, position, function(err, bytesRead, buffer) {\n      if(err) {\n        return callback(err);\n      }\n      var ab = new ArrayBuffer(buffer.length),\n        view = new Uint8Array(ab);\n      for(var i = 0; i < buffer.length; i++) {\n        view[i] = buffer[i];\n      }\n      callback(null, ab);\n    });\n  };\n\n  /*\n   * URL reader\n   */\n  Reader.prototype.ajax = function(opts, callback) {\n    var options = {\n      type: 'GET',\n      uri: null,\n      responseType: 'text'\n    };\n    if(typeof opts === 'string') {\n      opts = {uri: opts};\n    }\n    for(var k in opts) {\n      options[k] = opts[k];\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.onreadystatechange = function() {\n      if(xhr.readyState !== 4) return;\n      if(xhr.status !== 200 && xhr.status !== 206) {\n        return callback('Received non-200/206 response (' + xhr.status + ')');\n      }\n      callback(null, xhr.response, xhr);\n    };\n    xhr.responseType = options.responseType;\n    xhr.open(options.type, options.uri, true);\n    if(options.range) {\n      options.range = [].concat(options.range);\n      if(options.range.length === 2) {\n        xhr.setRequestHeader('Range', 'bytes=' + options.range[0] + '-' + options.range[1]);\n      } else {\n        xhr.setRequestHeader('Range', 'bytes=' + options.range[0]);\n      }\n    }\n    xhr.send();\n  };\n\n  Reader.prototype.readUri = function(length, position, callback) {\n    this.ajax(\n      {\n        uri: this.file,\n        type: 'GET',\n        responseType: 'arraybuffer',\n        range: [position, position+length-1]\n      },\n      function(err, buffer) {\n        if(err) {\n          return callback(err);\n        }\n        return callback(null, buffer);\n      }\n    );\n  };\n\n  /*\n   * File API reader\n   */\n  Reader.prototype.readFile = function(length, position, callback) {\n    var slice = this.file.slice(position, position+length),\n      fr = new FileReader();\n    fr.onload = function(e) {\n      callback(null, e.target.result);\n    };\n    fr.onerror = function(e) {\n      callback('File read failed');\n    };\n    fr.readAsArrayBuffer(slice);\n  };\n\n  /*\n   * lib/dataview-extra.js\n   */\n  DataView.prototype.getString = function(length, offset, raw) {\n    offset = offset || 0;\n    length = length || (this.byteLength - offset);\n    if(length < 0) {\n      length += this.byteLength;\n    }\n    var str = '';\n    if(typeof Buffer !== 'undefined') {\n      var data = [];\n      for(var i = offset; i < (offset + length); i++) {\n        data.push(this.getUint8(i));\n      }\n      return (new Buffer(data)).toString();\n    } else {\n      for(var i = offset; i < (offset + length); i++) {\n        str += String.fromCharCode(this.getUint8(i));\n      }\n      if(raw) {\n        return str;\n      }\n      return decodeURIComponent(encodeURIComponent(str));\n    }\n  };\n\n  DataView.prototype.getStringUtf16 = function(length, offset, bom) {\n    offset = offset || 0;\n    length = length || (this.byteLength - offset);\n    var littleEndian = false,\n      str = '',\n      useBuffer = false;\n    if(typeof Buffer !== 'undefined') {\n      str = [];\n      useBuffer = true;\n    }\n    if(length < 0) {\n      length += this.byteLength;\n    }\n    if(bom) {\n      var bomInt = this.getUint16(offset);\n      if(bomInt === 0xFFFE) {\n        littleEndian = true;\n      }\n      offset += 2;\n      length -= 2;\n    }\n    for(var i = offset; i < (offset + length); i += 2) {\n      var ch = this.getUint16(i, littleEndian);\n      if((ch >= 0 && ch <= 0xD7FF) || (ch >= 0xE000 && ch <= 0xFFFF)) {\n        if(useBuffer) {\n          str.push(ch);\n        } else {\n          str += String.fromCharCode(ch);\n        }\n      } else if(ch >= 0x10000 && ch <= 0x10FFFF) {\n        ch -= 0x10000;\n        if(useBuffer) {\n          str.push(((0xFFC00 & ch) >> 10) + 0xD800);\n          str.push((0x3FF & ch) + 0xDC00);\n        } else {\n          str += String.fromCharCode(((0xFFC00 & ch) >> 10) + 0xD800) + String.fromCharCode((0x3FF & ch) + 0xDC00);\n        }\n      }\n    }\n    if(useBuffer) {\n      return (new Buffer(str)).toString();\n    } else {\n      return decodeURIComponent(encodeURIComponent(str));\n    }\n  };\n\n  DataView.prototype.getSynch = function(num) {\n    var out = 0,\n      mask = 0x7f000000;\n    while(mask) {\n      out >>= 1;\n      out |= num & mask;\n      mask >>= 8;\n    }\n    return out;\n  };\n\n  DataView.prototype.getUint8Synch = function(offset) {\n    return this.getSynch(this.getUint8(offset));\n  };\n\n  DataView.prototype.getUint32Synch = function(offset) {\n    return this.getSynch(this.getUint32(offset));\n  };\n\n  /*\n   * Not really an int as such, but named for consistency\n   */\n  DataView.prototype.getUint24 = function(offset, littleEndian) {\n    if(littleEndian) {\n      return this.getUint8(offset) + (this.getUint8(offset + 1) << 8) + (this.getUint8(offset + 2) << 16);\n    }\n    return this.getUint8(offset + 2) + (this.getUint8(offset + 1) << 8) + (this.getUint8(offset) << 16);\n  };\n\n  var id3 = function(opts, cb) {\n    /*\n     * Initialise ID3\n     */\n    var options = {\n      type: id3.OPEN_URI,\n    };\n    if(typeof opts === 'string') {\n      opts = {file: opts, type: id3.OPEN_URI};\n    } else if(typeof window !== 'undefined' && window.File && opts instanceof window.File) {\n      opts = {file: opts, type: id3.OPEN_FILE};\n    }\n    for(var k in opts) {\n      options[k] = opts[k];\n    }\n\n    if(!options.file) {\n      return cb('No file was set');\n    }\n\n    if(options.type === id3.OPEN_FILE) {\n      if(typeof window === 'undefined' || !window.File || !window.FileReader || typeof ArrayBuffer === 'undefined') {\n        return cb('Browser does not have support for the File API and/or ArrayBuffers');\n      }\n    } else if(options.type === id3.OPEN_LOCAL) {\n      if(typeof require !== 'function') {\n        return cb('Local paths may not be read within a browser');\n      }\n    } else {\n    }\n\n    /*\n     * lib/genres.js\n     * Genre list\n     */\n\n    var Genres = [\n      'Blues',\n      'Classic Rock',\n      'Country',\n      'Dance',\n      'Disco',\n      'Funk',\n      'Grunge',\n      'Hip-Hop',\n      'Jazz',\n      'Metal',\n      'New Age',\n      'Oldies',\n      'Other',\n      'Pop',\n      'R&B',\n      'Rap',\n      'Reggae',\n      'Rock',\n      'Techno',\n      'Industrial',\n      'Alternative',\n      'Ska',\n      'Death Metal',\n      'Pranks',\n      'Soundtrack',\n      'Euro-Techno',\n      'Ambient',\n      'Trip-Hop',\n      'Vocal',\n      'Jazz+Funk',\n      'Fusion',\n      'Trance',\n      'Classical',\n      'Instrumental',\n      'Acid',\n      'House',\n      'Game',\n      'Sound Clip',\n      'Gospel',\n      'Noise',\n      'AlternRock',\n      'Bass',\n      'Soul',\n      'Punk',\n      'Space',\n      'Meditative',\n      'Instrumental Pop',\n      'Instrumental Rock',\n      'Ethnic',\n      'Gothic',\n      'Darkwave',\n      'Techno-Industrial',\n      'Electronic',\n      'Pop-Folk',\n      'Eurodance',\n      'Dream',\n      'Southern Rock',\n      'Comedy',\n      'Cult',\n      'Gangsta Rap',\n      'Top 40',\n      'Christian Rap',\n      'Pop / Funk',\n      'Jungle',\n      'Native American',\n      'Cabaret',\n      'New Wave',\n      'Psychedelic',\n      'Rave',\n      'Showtunes',\n      'Trailer',\n      'Lo-Fi',\n      'Tribal',\n      'Acid Punk',\n      'Acid Jazz',\n      'Polka',\n      'Retro',\n      'Musical',\n      'Rock & Roll',\n      'Hard Rock',\n      'Folk',\n      'Folk-Rock',\n      'National Folk',\n      'Swing',\n      'Fast  Fusion',\n      'Bebob',\n      'Latin',\n      'Revival',\n      'Celtic',\n      'Bluegrass',\n      'Avantgarde',\n      'Gothic Rock',\n      'Progressive Rock',\n      'Psychedelic Rock',\n      'Symphonic Rock',\n      'Slow Rock',\n      'Big Band',\n      'Chorus',\n      'Easy Listening',\n      'Acoustic',\n      'Humour',\n      'Speech',\n      'Chanson',\n      'Opera',\n      'Chamber Music',\n      'Sonata',\n      'Symphony',\n      'Booty Bass',\n      'Primus',\n      'Porn Groove',\n      'Satire',\n      'Slow Jam',\n      'Club',\n      'Tango',\n      'Samba',\n      'Folklore',\n      'Ballad',\n      'Power Ballad',\n      'Rhythmic Soul',\n      'Freestyle',\n      'Duet',\n      'Punk Rock',\n      'Drum Solo',\n      'A Cappella',\n      'Euro-House',\n      'Dance Hall',\n      'Goa',\n      'Drum & Bass',\n      'Club-House',\n      'Hardcore',\n      'Terror',\n      'Indie',\n      'BritPop',\n      'Negerpunk',\n      'Polsk Punk',\n      'Beat',\n      'Christian Gangsta Rap',\n      'Heavy Metal',\n      'Black Metal',\n      'Crossover',\n      'Contemporary Christian',\n      'Christian Rock',\n      'Merengue',\n      'Salsa',\n      'Thrash Metal',\n      'Anime',\n      'JPop',\n      'Synthpop',\n      'Rock/Pop'\n    ];\n\n\n    /*\n     * lib/id3frame.js\n     * ID3Frame\n     */\n\n    var ID3Frame = {};\n\n    /*\n     * ID3v2.3 and later frame types\n     */\n    ID3Frame.types = {\n      /*\n       * Textual frames\n       */\n      'TALB': 'album',\n      'TBPM': 'bpm',\n      'TCOM': 'composer',\n      'TCON': 'genre',\n      'TCOP': 'copyright',\n      'TDEN': 'encoding-time',\n      'TDLY': 'playlist-delay',\n      'TDOR': 'original-release-time',\n      'TDRC': 'recording-time',\n      'TDRL': 'release-time',\n      'TDTG': 'tagging-time',\n      'TENC': 'encoder',\n      'TEXT': 'writer',\n      'TFLT': 'file-type',\n      'TIPL': 'involved-people',\n      'TIT1': 'content-group',\n      'TIT2': 'title',\n      'TIT3': 'subtitle',\n      'TKEY': 'initial-key',\n      'TLAN': 'language',\n      'TLEN': 'length',\n      'TMCL': 'credits',\n      'TMED': 'media-type',\n      'TMOO': 'mood',\n      'TOAL': 'original-album',\n      'TOFN': 'original-filename',\n      'TOLY': 'original-writer',\n      'TOPE': 'original-artist',\n      'TOWN': 'owner',\n      'TPE1': 'artist',\n      'TPE2': 'band',\n      'TPE3': 'conductor',\n      'TPE4': 'remixer',\n      'TPOS': 'set-part',\n      'TPRO': 'produced-notice',\n      'TPUB': 'publisher',\n      'TRCK': 'track',\n      'TRSN': 'radio-name',\n      'TRSO': 'radio-owner',\n      'TSOA': 'album-sort',\n      'TSOP': 'performer-sort',\n      'TSOT': 'title-sort',\n      'TSRC': 'isrc',\n      'TSSE': 'encoder-settings',\n      'TSST': 'set-subtitle',\n      /*\n       * Textual frames (<=2.2)\n       */\n      'TAL': 'album',\n      'TBP': 'bpm',\n      'TCM': 'composer',\n      'TCO': 'genre',\n      'TCR': 'copyright',\n      'TDY': 'playlist-delay',\n      'TEN': 'encoder',\n      'TFT': 'file-type',\n      'TKE': 'initial-key',\n      'TLA': 'language',\n      'TLE': 'length',\n      'TMT': 'media-type',\n      'TOA': 'original-artist',\n      'TOF': 'original-filename',\n      'TOL': 'original-writer',\n      'TOT': 'original-album',\n      'TP1': 'artist',\n      'TP2': 'band',\n      'TP3': 'conductor',\n      'TP4': 'remixer',\n      'TPA': 'set-part',\n      'TPB': 'publisher',\n      'TRC': 'isrc',\n      'TRK': 'track',\n      'TSS': 'encoder-settings',\n      'TT1': 'content-group',\n      'TT2': 'title',\n      'TT3': 'subtitle',\n      'TXT': 'writer',\n      /*\n       * URL frames\n       */\n      'WCOM': 'url-commercial',\n      'WCOP': 'url-legal',\n      'WOAF': 'url-file',\n      'WOAR': 'url-artist',\n      'WOAS': 'url-source',\n      'WORS': 'url-radio',\n      'WPAY': 'url-payment',\n      'WPUB': 'url-publisher',\n      /*\n       * URL frames (<=2.2)\n       */\n      'WAF': 'url-file',\n      'WAR': 'url-artist',\n      'WAS': 'url-source',\n      'WCM': 'url-commercial',\n      'WCP': 'url-copyright',\n      'WPB': 'url-publisher',\n      /*\n       * Comment frame\n       */\n      'COMM': 'comments',\n      /*\n       * Image frame\n       */\n      'APIC': 'image',\n      'PIC': 'image'\n    };\n\n    /*\n     * ID3 image types\n     */\n    ID3Frame.imageTypes = [\n      'other',\n      'file-icon',\n      'icon',\n      'cover-front',\n      'cover-back',\n      'leaflet',\n      'media',\n      'artist-lead',\n      'artist',\n      'conductor',\n      'band',\n      'composer',\n      'writer',\n      'location',\n      'during-recording',\n      'during-performance',\n      'screen',\n      'fish',\n      'illustration',\n      'logo-band',\n      'logo-publisher'\n    ];\n\n    /*\n     * ID3v2.3 and later\n     */\n    ID3Frame.parse = function(buffer, major, minor) {\n      minor = minor || 0;\n      major = major || 4;\n      var result = {tag: null, value: null},\n        dv = new DataView(buffer);\n      if(major < 3) {\n        return ID3Frame.parseLegacy(buffer);\n      }\n      var header = {\n        id: dv.getString(4),\n        type: dv.getString(1),\n        size: dv.getUint32Synch(4),\n        flags: [\n          dv.getUint8(8),\n          dv.getUint8(9)\n        ]\n      };\n      /*\n       * No support for compressed, unsychronised, etc frames\n       */\n      if(header.flags[1] !== 0) {\n        return false;\n      }\n      if(!header.id in ID3Frame.types) {\n        return false;\n      }\n      result.tag = ID3Frame.types[header.id];\n      if(header.type === 'T') {\n        var encoding = dv.getUint8(10);\n        /*\n         * TODO: Implement UTF-8, UTF-16 and UTF-16 with BOM properly?\n         */\n        if(encoding === 0 || encoding === 3) {\n          result.value = dv.getString(-11, 11);\n        } else if(encoding === 1) {\n          result.value = dv.getStringUtf16(-11, 11, true);\n        } else if(encoding === 2) {\n          result.value = dv.getStringUtf16(-11, 11);\n        } else {\n          return false;\n        }\n        if(header.id === 'TCON' && !!parseInt(result.value)) {\n          result.value = Genres[parseInt(result.value)];\n        }\n      } else if(header.type === 'W') {\n        result.value = dv.getString(-10, 10);\n      } else if(header.id === 'COMM') {\n        /*\n         * TODO: Implement UTF-8, UTF-16 and UTF-16 with BOM properly?\n         */\n        var encoding = dv.getUint8(10),\n          variableStart = 14, variableLength = 0;\n        /*\n         * Skip the comment description and retrieve only the comment its self\n         */\n        for(var i = variableStart;; i++) {\n          if(encoding === 1 || encoding === 2) {\n            if(dv.getUint16(i) === 0x0000) {\n              variableStart = i + 2;\n              break;\n            }\n            i++;\n          } else {\n            if(dv.getUint8(i) === 0x00) {\n              variableStart = i + 1;\n              break;\n            }\n          }\n        }\n        if(encoding === 0 || encoding === 3) {\n          result.value = dv.getString(-1 * variableStart, variableStart);\n        } else if(encoding === 1) {\n          result.value = dv.getStringUtf16(-1 * variableStart, variableStart, true);\n        } else if(encoding === 2) {\n          result.value = dv.getStringUtf16(-1 * variableStart, variableStart);\n        } else {\n          return false;\n        }\n      } else if(header.id === 'APIC') {\n        var encoding = dv.getUint8(10),\n          image = {\n            type: null,\n            mime: null,\n            description: null,\n            data: null\n          };\n        var variableStart = 11, variableLength = 0;\n        for(var i = variableStart;;i++) {\n          if(dv.getUint8(i) === 0x00) {\n            variableLength = i - variableStart;\n            break;\n          }\n        }\n        image.mime = dv.getString(variableLength, variableStart);\n        image.type = ID3Frame.imageTypes[dv.getUint8(variableStart + variableLength + 1)] || 'other';\n        variableStart += variableLength + 2;\n        variableLength = 0;\n        for(var i = variableStart;; i++) {\n          if(dv.getUint8(i) === 0x00) {\n            variableLength = i - variableStart;\n            break;\n          }\n        }\n        image.description = (variableLength === 0 ? null : dv.getString(variableLength, variableStart));\n        image.data = buffer.slice(variableStart + 1);\n        result.value = image;\n      }\n      return (result.tag ? result : false);\n    };\n\n    /*\n     * ID3v2.2 and earlier\n     */\n    ID3Frame.parseLegacy = function(buffer) {\n      var result = {tag: null, value: null},\n        dv = new DataView(buffer),\n        header = {\n          id: dv.getString(3),\n          type: dv.getString(1),\n          size: dv.getUint24(3)\n        };\n      if(!header.id in ID3Frame.types) {\n        return false;\n      }\n      result.tag = ID3Frame.types[header.id];\n      if(header.type === 'T') {\n        var encoding = dv.getUint8(7);\n        /*\n         * TODO: Implement UTF-8, UTF-16 and UTF-16 with BOM properly?\n         */\n        result.value = dv.getString(-7, 7);\n        if(header.id === 'TCO' && !!parseInt(result.value)) {\n          result.value = Genres[parseInt(result.value)];\n        }\n      } else if(header.type === 'W') {\n        result.value = dv.getString(-7, 7);\n      } else if(header.id === 'COM') {\n        /*\n         * TODO: Implement UTF-8, UTF-16 and UTF-16 with BOM properly?\n         */\n        var encoding = dv.getUint8(6);\n        result.value = dv.getString(-10, 10);\n        if(result.value.indexOf('\\x00') !== -1) {\n          result.value = result.value.substr(result.value.indexOf('\\x00') + 1);\n        }\n      } else if(header.id === 'PIC') {\n        var encoding = dv.getUint8(6),\n          image = {\n            type: null,\n            mime: 'image/' + dv.getString(3, 7).toLowerCase(),\n            description: null,\n            data: null\n          };\n        image.type = ID3Frame.imageTypes[dv.getUint8(11)] || 'other';\n        var variableStart = 11, variableLength = 0;\n        for(var i = variableStart;; i++) {\n          if(dv.getUint8(i) === 0x00) {\n            variableLength = i - variableStart;\n            break;\n          }\n        }\n        image.description = (variableLength === 0 ? null : dv.getString(variableLength, variableStart));\n        image.data = buffer.slice(variableStart + 1);\n        result.value = image;\n      }\n      return (result.tag ? result : false);\n    };\n\n    /*\n     * lib/id3tag.js\n     * Parse an ID3 tag\n     */\n\n    var ID3Tag = {};\n\n    ID3Tag.parse = function(handle, callback) {\n      var tags = {\n          title: null,\n          album: null,\n          artist: null,\n          year: null,\n          v1: {\n              title: null,\n              artist: null,\n              album: null,\n              year: null,\n              comment: null,\n              track: null,\n              version: 1.0\n            },\n          v2: {\n              version: [null, null]\n            }\n        },\n        processed = {\n          v1: false,\n          v2: false\n        },\n        process = function(err) {\n          if(processed.v1 && processed.v2) {\n            tags.title = tags.v2.title || tags.v1.title;\n            tags.album = tags.v2.album || tags.v1.album;\n            tags.artist = tags.v2.artist || tags.v1.artist;\n            tags.year = tags.v1.year;\n            callback(err, tags);\n          }\n        };\n      /*\n       * Read the last 128 bytes (ID3v1)\n       */\n      handle.read(128, handle.size - 128, function(err, buffer) {\n        if(err) {\n          return process('Could not read file');\n        }\n        var dv = new DataView(buffer);\n        if(buffer.byteLength !== 128 || dv.getString(3, null, true) !== 'TAG') {\n          processed.v1 = true;\n          return process();\n        }\n        tags.v1.title = dv.getString(30, 3).replace(/(^\\s+|\\s+$)/, '') || null;\n        tags.v1.artist = dv.getString(30, 33).replace(/(^\\s+|\\s+$)/, '') || null;\n        tags.v1.album = dv.getString(30, 63).replace(/(^\\s+|\\s+$)/, '') || null;\n        tags.v1.year = dv.getString(4, 93).replace(/(^\\s+|\\s+$)/, '') || null;\n        /*\n         * If there is a zero byte at [125], the comment is 28 bytes and the remaining 2 are [0, trackno]\n         */\n        if(dv.getUint8(125) === 0) {\n          tags.v1.comment = dv.getString(28, 97).replace(/(^\\s+|\\s+$)/, '');\n          tags.v1.version = 1.1;\n          tags.v1.track = dv.getUint8(126);\n        } else {\n          tags.v1.comment = dv.getString(30, 97).replace(/(^\\s+|\\s+$)/, '');\n        }\n        /*\n         * Lookup the genre index in the predefined genres array\n         */\n        tags.v1.genre = Genres[dv.getUint8(127)] || null;\n        processed.v1 = true;\n        process();\n      });\n      /*\n       * Read 14 bytes (10 for ID3v2 header, 4 for possible extended header size)\n       * Assuming the ID3v2 tag is prepended\n       */\n      handle.read(14, 0, function(err, buffer) {\n        if(err) {\n          return process('Could not read file');\n        }\n        var dv = new DataView(buffer),\n          headerSize = 10,\n          tagSize = 0,\n          tagFlags;\n        /*\n         * Be sure that the buffer is at least the size of an id3v2 header\n         * Assume incompatibility if a major version of > 4 is used\n         */\n        if(buffer.byteLength !== 14 || dv.getString(3, null, true) !== 'ID3' || dv.getUint8(3) > 4) {\n          processed.v2 = true;\n          return process();\n        }\n        tags.v2.version = [\n          dv.getUint8(3),\n          dv.getUint8(4)\n        ];\n        tagFlags = dv.getUint8(5);\n        /*\n         * Do not support unsynchronisation\n         */\n        if((tagFlags & 0x80) !== 0) {\n          processed.v2 = true;\n          return process();\n        }\n        /*\n         * Increment the header size to offset by if an extended header exists\n         */\n        if((tagFlags & 0x40) !== 0) {\n          headerSize += dv.getUint32Synch(11);\n        }\n        /*\n         * Calculate the tag size to be read\n         */\n        tagSize += dv.getUint32Synch(6);\n        handle.read(tagSize, headerSize, function(err, buffer) {\n          if(err) {\n            processed.v2 = true;\n            return process();\n          }\n          var dv = new DataView(buffer),\n            position = 0;\n          while(position < buffer.byteLength) {\n            var frame,\n              slice,\n              frameBit,\n              isFrame = true;\n            for(var i = 0; i < 3; i++) {\n              frameBit = dv.getUint8(position + i);\n              if((frameBit < 0x41 || frameBit > 0x5A) && (frameBit < 0x30 || frameBit > 0x39)) {\n                isFrame = false;\n              }\n            }\n            if(!isFrame) break;\n            /*\n             * < v2.3, frame ID is 3 chars, size is 3 bytes making a total size of 6 bytes\n             * >= v2.3, frame ID is 4 chars, size is 4 bytes, flags are 2 bytes, total 10 bytes\n             */\n            if(tags.v2.version[0] < 3) {\n              slice = buffer.slice(position, position + 6 + dv.getUint24(position + 3));\n            } else {\n              slice = buffer.slice(position, position + 10 + dv.getUint32Synch(position + 4));\n            }\n            frame = ID3Frame.parse(slice, tags.v2.version[0]);\n            if(frame) {\n              tags.v2[frame.tag] = frame.value;\n            }\n            position += slice.byteLength;\n          }\n          processed.v2 = true;\n          process();\n        });\n      });\n    };\n\n    /*\n     * Read the file\n     */\n\n    var handle = new Reader(options.type);\n\n    handle.open(options.file, function(err) {\n      if(err) {\n        return cb('Could not open specified file');\n      }\n      ID3Tag.parse(handle, function(err, tags) {\n        cb(err, tags);\n        handle.close()\n      });\n    });\n  };\n\n  id3.OPEN_FILE = Reader.OPEN_FILE;\n  id3.OPEN_URI = Reader.OPEN_URI;\n  id3.OPEN_LOCAL = Reader.OPEN_LOCAL;\n\n  if(typeof module !== 'undefined' && module.exports) {\n    module.exports = id3;\n  } else {\n    if(typeof define === 'function' && define.amd) {\n      define('id3', [], function() {\n        return id3;\n      });\n    } else {\n      window.id3 = id3;\n    }\n  }\n})();\n",""]}